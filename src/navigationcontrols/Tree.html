<template>
    <require from='./Tree.css'></require>
    <div class='tree-wrapper' title="${Content.SavedFields.DisplayName || Content.SavedFields.Name}">
        <i class="expand-icon material-icons ${IsExpanded ? 'expanded' : 'collapsed'} ${!HasChildren ? 'no-children' : ''} ${IsLoading ? 'loading' : ''}" click.delegate="Toggle()">keyboard_arrow_down</i>
        
        <icon class="${IsSelected ? 'selected' : ''}" icon-name.bind="Content.Icon" click.delegate="Select()"></icon>
        <span class="tree-item-name ${IsSelected ? 'selected' : ''}" click.delegate="Select()">
            ${Content.SavedFields.DisplayName || Content.SavedFields.Name}
            <md-progress md-type="circular" class="preloader ${IsLoading ? 'loading' : ''}" md-pixel-size="25"></md-progress>
        </span>

        <div if.bind="IsExpanded" class="children-list">
            <tree if.bind="!IsLoading" content.bind="child" selection.two-way="Selection" repeat.for="child of Children"></tree>
        </div>
    </div>
</template>